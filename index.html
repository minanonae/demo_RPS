<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Room Reserve System</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-body: #EDF1F7; --bg-app: #F5F7FA; --surface-glass: rgba(255, 255, 255, 0.7); --surface-solid: #FFFFFF;
            --text-dark: #2D3748; --text-gray: #A0AEC0; --text-brand: #5A67D8;
            --grad-available: linear-gradient(135deg, #68D391 0%, #38B2AC 100%);
            --grad-using: linear-gradient(135deg, #FC8181 0%, #E53E3E 100%);
            --grad-brand: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            --grad-admin: linear-gradient(135deg, #4A5568 0%, #2D3748 100%);
            --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.05);
            --shadow-glow-brand: 0 10px 20px rgba(102, 126, 234, 0.3);
            --shadow-glow-available: 0 10px 20px rgba(104, 211, 145, 0.3);
            --shadow-glow-using: 0 10px 20px rgba(252, 129, 129, 0.3);
            --shadow-glass-inset: inset 0 2px 4px rgba(255, 255, 255, 0.5);
            --radius-card: 25px; --radius-btn: 15px;
        }

        /* ‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö Browser */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: var(--bg-body); display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; background-image: radial-gradient(circle at 10% 20%, rgb(239, 246, 255) 0%, rgb(229, 236, 249) 90%); }
        
        /* Custom Scrollbar ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ (‡πÄ‡∏ä‡πà‡∏ô Timeline) */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(90, 103, 216, 0.2); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(90, 103, 216, 0.5); }

        .tablet-screen { width: 100%; max-width: 1024px; height: 90vh; max-height: 768px; background: var(--bg-app); border-radius: 40px; overflow: hidden; box-shadow: 0 30px 60px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; position: relative; backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.5); }
        
        /* ‡∏õ‡∏£‡∏±‡∏ö Header ‡πÉ‡∏´‡πâ‡∏ö‡∏≤‡∏á‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
        header { padding: 25px 35px 15px 35px; display: flex; justify-content: space-between; align-items: center; background: transparent; z-index: 10; }
        .header-title { font-size: 24px; font-weight: 700; color: var(--text-dark); letter-spacing: -0.5px; }
        .header-time { text-align: right; }
        .time-text { font-size: 22px; font-weight: 700; color: var(--text-brand); background: var(--grad-brand); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .date-text { font-size: 13px; color: var(--text-gray); font-weight: 500; }
        
        /* ‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ Screen ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô (overflow: hidden) */
        .screen { display: none; flex: 1; padding: 10px 35px 35px 35px; animation: slideFade 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); overflow: hidden; }
        .screen.active { display: flex; flex-direction: column; }
        
        .grid-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; height: 100%; }
        .glass-card { background: var(--surface-glass); backdrop-filter: blur(10px); border-radius: var(--radius-card); padding: 30px; box-shadow: var(--shadow-soft); border: 1px solid rgba(255,255,255,0.6); }
        
        .status-card { border-radius: var(--radius-card); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; padding: 30px; transition: all 0.4s ease; position: relative; overflow: hidden; }
        .status-card::before, .status-card::after { content: ''; position: absolute; border-radius: 50%; background: rgba(255,255,255,0.1); }
        .status-card::before { width: 200px; height: 200px; top: -50px; right: -50px; }
        .status-card::after { width: 150px; height: 150px; bottom: -30px; left: -30px; }
        .status-card.available { background: var(--grad-available); box-shadow: var(--shadow-glow-available); }
        .status-card.using { background: var(--grad-using); box-shadow: var(--shadow-glow-using); }
        .status-icon-anim { font-size: 60px; margin-bottom: 5px; animation: floatAnim 3s ease-in-out infinite; }
        .status-title { font-size: 42px; font-weight: 700; margin-bottom: 0px; z-index: 1; }
        .status-subtitle { font-size: 16px; font-weight: 500; opacity: 0.95; z-index: 1; }
        
        .action-group { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 25px; }
        .btn { padding: 15px 20px; border: none; border-radius: var(--radius-btn); font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s; display: flex; justify-content: center; align-items: center; gap: 8px; }
        .btn:hover { transform: translateY(-2px); }
        .btn:active { transform: scale(0.98) translateY(0); }
        .btn-gradient-brand { background: var(--grad-brand); color: white; box-shadow: var(--shadow-glow-brand); }
        .btn-glass { background: var(--surface-glass); color: var(--text-dark); border: 1px solid rgba(255,255,255,0.5); box-shadow: var(--shadow-soft); }
        .btn-outline { background: transparent; color: var(--text-gray); border: 2px solid rgba(160, 174, 192, 0.3); }
        .btn-admin-grad { background: var(--grad-admin); color: white; }

        .timeline-container { display: flex; flex-direction: column; height: 100%; }
        .timeline-header { font-size: 18px; font-weight: 700; color: var(--text-dark); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;}
        .refresh-badge { font-size: 12px; font-weight: 500; color: var(--text-brand); background: rgba(90, 103, 216, 0.1); padding: 4px 10px; border-radius: 10px; }
        
        /* ‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÅ‡∏Ñ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á Timeline ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ */
        .timeline-list { flex: 1; overflow-y: auto; padding-right: 10px; }
        
        .timeline-item { background: var(--surface-glass); border-radius: 15px; padding: 15px 20px; margin-bottom: 12px; display: flex; flex-direction: column; border-left: 5px solid transparent; box-shadow: var(--shadow-soft); border: 1px solid rgba(255,255,255,0.5); transition: 0.2s;}
        .timeline-item:hover { transform: translateX(3px); background: #FFFFFF; }
        .timeline-item.active { border-left-color: var(--grad-using); }
        .timeline-item.future { border-left-color: var(--text-brand); }
        .timeline-item.past { opacity: 0.6; border-left-color: var(--text-gray); }
        .t-time { font-size: 13px; color: var(--text-gray); font-weight: 600; margin-bottom: 3px; }
        .t-title { font-size: 15px; font-weight: 700; color: var(--text-dark); margin-bottom: 2px; }
        .t-org { font-size: 12px; color: var(--text-brand); font-weight: 500; }

        /* ‡∏õ‡∏£‡∏±‡∏ö Form Panel ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô */
        .form-panel { background: var(--surface-glass); backdrop-filter: blur(15px); padding: 35px 40px; border-radius: 30px; max-width: 550px; width: 100%; margin: auto; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.8); }
        .form-panel h2 { color: var(--text-dark); font-size: 24px; margin-bottom: 5px; }
        .form-subtitle { color: var(--text-gray); margin-bottom: 20px; font-size: 14px; }
        
        .input-group { text-align: left; margin-bottom: 15px; }
        .input-group label { display: block; font-weight: 600; font-size: 13px; color: var(--text-dark); margin-bottom: 6px; padding-left: 10px; }
        .input-field { width: 100%; padding: 14px 20px; border: 2px solid transparent; background: #EEF2F7; border-radius: var(--radius-btn); font-size: 15px; outline: none; transition: 0.3s; color: var(--text-dark); font-weight: 500; box-shadow: var(--shadow-glass-inset); }
        .input-field:focus { border-color: var(--text-brand); background: #FFFFFF; }
        
        .nfc-reader { background: rgba(255,255,255,0.5); border: 2px dashed rgba(160, 174, 192, 0.4); border-radius: var(--radius-card); padding: 25px; text-align: center; margin-bottom: 20px; position: relative; overflow: hidden; }
        .nfc-icon-wrapper { width: 70px; height: 70px; background: var(--grad-brand); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin: 0 auto 15px auto; box-shadow: var(--shadow-glow-brand); cursor: pointer; animation: pulseAnim 2s infinite; }
        .nfc-svg { width: 35px; height: 35px; fill: white; }

        .separator { display: flex; align-items: center; text-align: center; margin: 20px 0; color: var(--text-gray); font-size: 12px; font-weight: 600;}
        .separator::before, .separator::after { content: ''; flex: 1; border-bottom: 2px solid #E2E8F0; }
        .separator::before { margin-right: 15px; } .separator::after { margin-left: 15px; }

        .admin-menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        .admin-menu-card { background: var(--surface-glass); border: 1px solid rgba(255,255,255,0.5); border-radius: 20px; padding: 25px 20px; text-align: center; cursor: pointer; transition: 0.3s; box-shadow: var(--shadow-soft); }
        .admin-menu-card:hover { border-color: var(--text-brand); box-shadow: var(--shadow-glow-brand); transform: translateY(-3px); background: #FFFFFF; }
        .admin-icon-svg { width: 40px; height: 40px; margin-bottom: 10px; }

        .admin-link-container { text-align: center; margin-top: 25px; }
        .admin-link { font-size: 12px; color: rgba(160, 174, 192, 0.6); text-decoration: none; cursor: pointer; font-weight: 500; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 10px; }
        .admin-link:hover { color: var(--text-brand); background: rgba(90, 103, 216, 0.05); }

        .modal-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(45, 55, 72, 0.4); display: none; justify-content: center; align-items: center; z-index: 50; backdrop-filter: blur(10px); }
        .modal-overlay.active { display: flex; animation: fadeIn 0.2s ease; }
        .modal-content { background: rgba(255, 255, 255, 0.95); padding: 40px; border-radius: 30px; text-align: center; max-width: 400px; width: 90%; transform: scale(0.9); animation: popIn 0.3s forwards; box-shadow: 0 40px 80px rgba(0,0,0,0.2); }
        .modal-icon-anim { font-size: 60px; margin-bottom: 15px; display: inline-block; }
        .modal-success .modal-icon-anim { animation: floatAnim 3s ease-in-out infinite; color: #68D391; }
        .modal-error .modal-icon-anim { animation: shakeAnim 0.5s ease-in-out; color: #FC8181; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popIn { to { transform: scale(1); } }
        @keyframes pulseAnim { 0% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.5); } 70% { box-shadow: 0 0 0 20px rgba(102, 126, 234, 0); } 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0); } }
        @keyframes floatAnim { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes shakeAnim { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body>

<div class="tablet-screen">
    <header>
        <div class="header-title" id="room-name">Boardroom A ‚Äî Floor 2</div>
        <div class="header-time">
            <div class="time-text" id="clock">00:00</div>
            <div class="date-text" id="date-text">Loading...</div>
        </div>
    </header>

    <div id="screen-status" class="screen active">
        <div class="grid-layout">
            <div style="display: flex; flex-direction: column;">
                <div id="room-status-box" class="status-card available" style="flex: 1;">
                    <div class="status-icon-anim" id="status-icon">‚ú®</div>
                    <div class="status-title" id="status-title">Available</div>
                    <div class="status-subtitle" id="status-desc">Ready for walk-in booking</div>
                </div>
                <div class="action-group">
                    <button class="btn btn-glass" onclick="nav('screen-checkin')"><span>üë§</span> Check-in</button>
                    <button class="btn btn-gradient-brand" onclick="nav('screen-walkin-auth')"><span>üìÖ</span> Walk-in Booking</button>
                </div>
                <div class="admin-link-container">
                    <span class="admin-link" onclick="nav('screen-admin-auth')"><span>‚öôÔ∏è</span> Config</span>
                </div>
            </div>

            <div class="glass-card timeline-container" style="padding: 25px;">
                <div class="timeline-header">
                    Today's Schedule <span class="refresh-badge" id="refresh-timer">Syncing 30s</span>
                </div>
                <div class="timeline-list" id="timeline-list"></div>
            </div>
        </div>
    </div>

    <div id="screen-checkin" class="screen">
        <div class="form-panel">
            <h2>Meeting Check-in</h2>
            <div class="form-subtitle">Authenticate to confirm reservation</div>
            
            <div class="nfc-reader">
                <div class="nfc-icon-wrapper" onclick="simulateCheckinNFC()">
                    <svg class="nfc-svg" viewBox="0 0 24 24"><path d="M4 4h16v16H4V4zm2 2v12h12V6H6zm2 2h8v2H8V8zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"/></svg>
                </div>
                <h3 style="color: var(--text-dark); font-size: 16px;">Tap Employee Card</h3>
            </div>

            <div class="separator">OR ENTER PIN</div>

            <div class="input-group" style="margin-bottom: 0;">
                <input type="password" id="checkin-pin-input" class="input-field" placeholder="4-Digit PIN" maxlength="4" style="text-align: center; font-size: 20px; letter-spacing: 8px;">
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn btn-glass" style="flex: 1;" onclick="nav('screen-status')">Cancel</button>
                <button class="btn btn-gradient-brand" style="flex: 1;" onclick="verifyCheckinPIN()">Verify</button>
            </div>
        </div>
    </div>

    <div id="screen-walkin-auth" class="screen">
        <div class="form-panel">
            <h2>Walk-in Booking</h2>
            <div class="form-subtitle" style="color: #E53E3E; font-weight: 600;">Authentication Required</div>
            
            <div class="nfc-reader" style="padding: 50px 30px;">
                <div class="nfc-icon-wrapper" style="width: 90px; height: 90px;" onclick="simulateWalkinNFC()">
                    <svg class="nfc-svg" style="width: 45px; height: 45px;" viewBox="0 0 24 24"><path d="M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H3V6h18v12zm-6-9h4v2h-4V9zm0 4h4v2h-4v-2zM5 9h8v6H5V9z"/></svg>
                </div>
                <h3 style="color: var(--text-dark); font-size: 20px; margin-bottom: 5px;">Tap Employee Card</h3>
                <p style="font-size: 13px; color: var(--text-gray);">Required to reserve the room</p>
            </div>
            <button class="btn btn-glass" style="width: 100%;" onclick="nav('screen-status')">Cancel</button>
        </div>
    </div>

    <div id="screen-walkin-form" class="screen">
        <div class="form-panel">
            <h2>Reservation Details</h2>
            <div style="background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); padding: 12px; border-radius: var(--radius-btn); margin-bottom: 20px; text-align: left; display: flex; align-items: center; gap: 10px;">
                <div style="width: 10px; height: 10px; background: #68D391; border-radius: 50%;"></div>
                <div style="font-size: 13px; color: var(--text-brand);">Verified as: <strong style="color: var(--text-dark);" id="verified-user-name">John Doe</strong></div>
            </div>
            
            <div class="input-group">
                <label>Meeting Subject</label>
                <input type="text" id="walkin-subject" class="input-field" placeholder="Enter meeting subject">
            </div>
            
            <div class="input-group">
                <label>Duration</label>
                <select id="walkin-duration" class="input-field">
                    <option value="15">15 Minutes</option>
                    <option value="30" selected>30 Minutes</option>
                    <option value="60">1 Hour</option>
                </select>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn btn-glass" style="flex: 1;" onclick="nav('screen-status')">Cancel</button>
                <button class="btn btn-gradient-brand" style="flex: 1;" onclick="submitWalkin()">Reserve</button>
            </div>
        </div>
    </div>

    <div id="screen-admin-auth" class="screen">
        <div class="form-panel">
            <h2>Admin Login</h2>
            <div class="form-subtitle">IT / Facilities Staff Only</div>
            
            <div class="nfc-reader" style="padding: 30px;">
                <div class="nfc-icon-wrapper" style="background: var(--grad-admin); box-shadow: 0 10px 20px rgba(45, 55, 72, 0.3);" onclick="simulateAdminNFC()">
                    <svg class="nfc-svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                </div>
                <h3 style="color: var(--text-dark); font-size: 16px;">Tap Admin Card</h3>
            </div>

            <div class="separator">OR ENTER PIN</div>
            <div class="input-group" style="margin-bottom:0;">
                <input type="password" id="admin-pin-input" class="input-field" placeholder="Admin PIN (9999)" maxlength="4" style="text-align: center; font-size: 20px; letter-spacing: 8px;">
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn btn-glass" style="flex: 1;" onclick="nav('screen-status')">Back</button>
                <button class="btn btn-admin-grad" style="flex: 1;" onclick="verifyAdminPIN()">Login</button>
            </div>
        </div>
    </div>

    <div id="screen-admin-dashboard" class="screen">
        <div class="form-panel" style="max-width: 600px;">
            <h2>System Config</h2>
            <div class="form-subtitle">Select setting to manage</div>
            
            <div class="admin-menu-grid">
                <div class="admin-menu-card" onclick="nav('screen-admin-room')">
                    <svg class="admin-icon-svg" viewBox="0 0 24 24" fill="url(#gradBrand)"><defs><linearGradient id="gradBrand" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#667EEA;stop-opacity:1" /><stop offset="100%" style="stop-color:#764BA2;stop-opacity:1" /></linearGradient></defs><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v10h-2z"/></svg>
                    <h3 style="font-size: 16px; color: var(--text-dark);">Room Setup</h3>
                </div>
                <div class="admin-menu-card" onclick="nav('screen-admin-user')">
                    <svg class="admin-icon-svg" viewBox="0 0 24 24" fill="url(#gradBrand)"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                    <h3 style="font-size: 16px; color: var(--text-dark);">User Roles</h3>
                </div>
            </div>
            <button class="btn btn-glass" style="width: 100%;" onclick="nav('screen-status')">Exit to Status Screen</button>
        </div>
    </div>

    <div id="screen-admin-room" class="screen">
        <div class="form-panel">
            <h2>Room Setup</h2>
            <div class="form-subtitle">Configure device mapping</div>
            
            <div class="input-group">
                <label>Display Name</label>
                <input type="text" class="input-field" value="Boardroom A ‚Äî Floor 2">
            </div>
            <div class="input-group">
                <label>API Endpoint URL</label>
                <input type="text" class="input-field" value="https://api.company.com/v1">
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn btn-glass" style="flex: 1;" onclick="nav('screen-admin-dashboard')">Back</button>
                <button class="btn btn-gradient-brand" style="flex: 1;" onclick="showModal('success', 'Saved', 'Settings updated.', () => nav('screen-admin-dashboard'))">Save</button>
            </div>
        </div>
    </div>

    <div id="screen-admin-user" class="screen">
        <div class="form-panel" style="max-width: 650px; padding: 30px;">
            <h2>User Management</h2>
            
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <input type="text" id="search-emp-id" class="input-field" placeholder="Emp ID (e.g. 1001)" style="margin: 0; flex: 1;">
                <button class="btn btn-gradient-brand" onclick="searchEmployee()">Search</button>
            </div>

            <div id="user-edit-form" style="display: none; text-align: left; background: rgba(255,255,255,0.5); padding: 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.6);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <div>
                        <div style="font-size: 11px; color: var(--text-gray);">EMPLOYEE NAME</div>
                        <div id="edit-emp-name" style="font-size: 16px; font-weight: 600; color: var(--text-dark);">John Doe</div>
                    </div>
                    <span id="edit-emp-status-badge" style="background: #68D391; color: white; padding: 4px 12px; border-radius: 10px; font-size: 11px; font-weight: 600;">ACTIVE</span>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="input-group" style="margin: 0;">
                        <label>System Role</label>
                        <select id="edit-emp-role" class="input-field" style="padding: 10px 15px;">
                            <option value="Admin">Admin</option>
                            <option value="Manager">Manager</option>
                            <option value="Officer">Officer</option>
                        </select>
                    </div>
                    <div class="input-group" style="margin: 0;">
                        <label>Account Status</label>
                        <select id="edit-emp-status" class="input-field" style="padding: 10px 15px;">
                            <option value="true">Active</option>
                            <option value="false">Suspended</option>
                        </select>
                    </div>
                </div>

                <div class="input-group" style="margin-top: 15px; margin-bottom: 0;">
                    <label>Mapped NFC Card ID</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="edit-emp-card" class="input-field" readonly style="background: #E2E8F0; padding: 10px 15px; margin: 0;" placeholder="No Card">
                        <button class="btn btn-glass" style="padding: 10px 15px;" onclick="simulateAssignNewCard()">Scan</button>
                    </div>
                </div>

                <button class="btn btn-gradient-brand" style="width: 100%; margin-top: 20px; padding: 12px;" onclick="saveUserPermission()">Save Settings</button>
            </div>
            <button class="btn btn-outline" style="width: 100%; margin-top: 15px; padding: 12px;" onclick="closeUserForm()">Back</button>
        </div>
    </div>

    <div id="custom-modal" class="modal-overlay">
        <div class="modal-content modal-success" id="modal-box">
            <div class="modal-icon-anim" id="modal-icon">‚ú®</div>
            <h2 id="modal-title" style="color: var(--text-dark); font-size: 22px; margin-bottom: 5px;">Success</h2>
            <p id="modal-message" style="color: var(--text-gray); margin-bottom: 25px; font-size: 14px;">Action completed.</p>
            <button class="btn btn-gradient-brand" style="width: 100%;" onclick="closeModal()">Continue</button>
        </div>
    </div>

</div>

<script>
    let isAvailable = true;
    let refreshCountdown = 30;
    let currentUser = ""; 
    const meetings = [
        { time: "09:00 - 10:30 AM", title: "Quarterly Review", org: "Executive Board", status: "past" },
        { time: "11:00 - 12:00 PM", title: "Project Alpha Sync", org: "Engineering Team", status: "future" },
        { time: "02:00 - 04:00 PM", title: "Vendor Meeting", org: "Procurement", status: "future" },
        { time: "04:30 - 05:30 PM", title: "Design Standup", org: "UI/UX Team", status: "future" } // ‡πÉ‡∏™‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ Timeline ‡∏°‡∏µ Scrollbar ‡πÑ‡∏î‡πâ
    ];
    let usersDB = [
        { id: "1001", name: "Somchai (Admin)", role: "Admin", cardId: "RFID-A1B2", isActive: true },
        { id: "1002", name: "Alice (Manager)", role: "Manager", cardId: "RFID-C3D4", isActive: true }
    ];
    let currentEditingUserId = null;

    function updateDateTime() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
        document.getElementById('date-text').innerText = now.toLocaleDateString('en-US', options);
    }
    setInterval(updateDateTime, 1000); updateDateTime();

    function nav(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        ['checkin-pin-input', 'admin-pin-input', 'walkin-subject'].forEach(id => { 
            if(document.getElementById(id)) document.getElementById(id).value = ''; 
        });
    }

    function showModal(type, title, message, callback = null) {
        const modalOverlay = document.getElementById('custom-modal');
        const modalBox = document.getElementById('modal-box');
        const modalIcon = document.getElementById('modal-icon');
        if(type === 'success') {
            modalBox.className = 'modal-content modal-success'; modalIcon.innerText = '‚ú®';
        } else {
            modalBox.className = 'modal-content modal-error'; modalIcon.innerText = '‚ö†Ô∏è';
        }
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-message').innerText = message;
        modalOverlay.classList.add('active');
        window.modalCallback = callback;
    }

    function closeModal() {
        document.getElementById('custom-modal').classList.remove('active');
        if(window.modalCallback) { window.modalCallback(); window.modalCallback = null; }
    }

    function renderTimeline() {
        const html = meetings.map(m => `
            <div class="timeline-item ${m.status}">
                <span class="t-time">${m.time}</span>
                <div class="t-title">${m.title}</div>
                <div class="t-org">üë§ ${m.org}</div>
            </div>
        `).join('');
        document.getElementById('timeline-list').innerHTML = html;
        updateRoomStatusUI();
    }

    function updateRoomStatusUI(subject = null, org = null) {
        const card = document.getElementById('room-status-box');
        const icon = document.getElementById('status-icon');
        if(isAvailable) {
            card.className = 'status-card available'; icon.innerText = '‚ú®';
            card.innerHTML = `<div class="status-icon-anim" id="status-icon">‚ú®</div><div class="status-title">Available</div><div class="status-subtitle">Ready for walk-in booking</div>`;
        } else {
            card.className = 'status-card using'; icon.innerText = 'üî•';
            card.innerHTML = `<div class="status-icon-anim" id="status-icon" style="animation-duration: 1.5s;">üî•</div><div class="status-title" style="font-size: 36px;">In Use</div><div class="status-subtitle" style="font-size: 16px; font-weight: 600;">${subject}</div><div class="status-subtitle" style="font-size: 13px; opacity: 0.9;">By: ${org}</div>`;
        }
    }

    function simulateCheckinNFC() { showModal('success', 'Verified', 'Check-in completed successfully.', () => nav('screen-status')); }
    function verifyCheckinPIN() {
        if(document.getElementById('checkin-pin-input').value === "1234") showModal('success', 'Verified', 'Check-in completed successfully.', () => nav('screen-status'));
        else showModal('error', 'Failed', 'Invalid PIN provided.');
    }
    function simulateWalkinNFC() {
        setTimeout(() => {
            currentUser = "Nadech K.";
            document.getElementById('verified-user-name').innerText = currentUser;
            nav('screen-walkin-form');
        }, 500);
    }
    function submitWalkin() {
        const subject = document.getElementById('walkin-subject').value || "Ad-hoc Meeting";
        isAvailable = false;
        updateRoomStatusUI(subject, currentUser);
        showModal('success', 'Reserved', 'Your meeting has started.', () => nav('screen-status'));
    }
    function simulateAdminNFC() { setTimeout(() => nav('screen-admin-dashboard'), 500); }
    function verifyAdminPIN() {
        if(document.getElementById('admin-pin-input').value === "9999") nav('screen-admin-dashboard');
        else showModal('error', 'Denied', 'Invalid Administrator PIN.');
    }
    function searchEmployee() {
        const empId = document.getElementById('search-emp-id').value;
        const user = usersDB.find(u => u.id === empId);
        if (user) {
            currentEditingUserId = user.id;
            document.getElementById('edit-emp-name').innerText = user.name;
            document.getElementById('edit-emp-role').value = user.role;
            document.getElementById('edit-emp-card').value = user.cardId;
            document.getElementById('edit-emp-status').value = user.isActive ? "true" : "false";
            const badge = document.getElementById('edit-emp-status-badge');
            badge.innerText = user.isActive ? "ACTIVE" : "SUSPENDED"; 
            badge.style.background = user.isActive ? "#68D391" : "#FC8181";
            document.getElementById('user-edit-form').style.display = "block";
        } else {
            showModal('error', 'Not Found', 'Employee ID does not exist.');
        }
    }
    function simulateAssignNewCard() { setTimeout(() => { document.getElementById('edit-emp-card').value = "RFID-" + Math.floor(Math.random() * 90000); }, 300); }
    function saveUserPermission() {
        showModal('success', 'Saved', 'User permissions updated.', () => {
            document.getElementById('user-edit-form').style.display = "none";
            document.getElementById('search-emp-id').value = "";
        });
    }
    function closeUserForm() { document.getElementById('user-edit-form').style.display = "none"; nav('screen-admin-dashboard'); }
    setInterval(() => { refreshCountdown--; if(refreshCountdown <= 0) refreshCountdown = 30; document.getElementById('refresh-timer').innerText = `Syncing ${refreshCountdown}s`; }, 1000);
    renderTimeline();
</script>
</body>
</html>
